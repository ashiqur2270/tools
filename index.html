<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Personal Dashboard Pro</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <link rel="manifest" href="data:application/manifest+json,{%22name%22:%22MyDashPro%22,%22short_name%22:%22MyDash%22,%22start_url%22:%22.%22,%22display%22:%22standalone%22,%22background_color%22:%22#ffffff%22}">
 <style>
        :root { --bg: #f0f2f5; --card: #ffffff; --text: #1c1e21; --btn: #42b72a; --border: #dddfe2; --accent: #1877f2; }
        .dark { --bg: #18191a; --card: #242526; --text: #e4e6eb; --btn: #2d88ff; --border: #3e4042; }
        
        body { margin: 0; font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background: var(--bg); color: var(--text); transition: 0.3s; }
        .container { max-width: 800px; margin: auto; padding: 15px; }
        .header { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid var(--border); }
        
        .user-info { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }

        /* Home Grid */
        .home-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(110px, 1fr)); gap: 10px; margin: 20px 0; }
        .home-btn { padding: 15px 5px; border: none; border-radius: 10px; background: var(--card); color: var(--text); font-weight: 600; cursor: pointer; border: 1px solid var(--border); box-shadow: 0 2px 4px rgba(0,0,0,0.05); transition: 0.2s; font-size: 13px; }
        .home-btn:hover { background: var(--accent); color: #fff; transform: translateY(-2px); }

        /* Full Screen Section Style */
        .card { background: var(--card); padding: 20px; border-radius: 12px; border: 1px solid var(--border); box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-bottom: 20px; }
        
        .section { 
            display: none; 
            position: fixed; 
            top: 0; left: 0; 
            width: 100%; height: 100%; 
            background: var(--bg); 
            z-index: 1000; 
            overflow-y: auto; 
            padding: 20px; 
            box-sizing: border-box;
            animation: fadeIn 0.3s; 
        }

        .back-btn { background: #606770; color: white; padding: 8px 15px; border-radius: 8px; border: none; cursor: pointer; margin-bottom: 15px; font-weight: bold; }

        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        
        input, select, textarea { width: 100%; padding: 12px; margin: 8px 0; background: var(--card); color: var(--text); border: 1px solid var(--border); border-radius: 8px; box-sizing: border-box; font-size: 15px; }
        button { padding: 12px 18px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; color: #fff; background: var(--btn); margin: 4px 2px; }
        .red { background: #fa3e3e; } .blue { background: #1877f2; } .orange { background: #f5c33b; color: #000; }
        
        table { width: 100%; border-collapse: collapse; margin-top: 15px; font-size: 14px; }
        th, td { border: 1px solid var(--border); padding: 10px; text-align: center; }
        th { background: rgba(0,0,0,0.05); }
        .hidden { display: none; }
        .result-box { background: rgba(24, 119, 242, 0.1); padding: 15px; border-radius: 8px; margin-top: 15px; text-align: center; font-weight: bold; border: 1px dashed var(--accent); }

        /* Calculator UI */
        .calc-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; max-width: 320px; margin: 15px auto; }
        .calc-screen { grid-column: span 4; background: #f0f2f5; color: #000; padding: 20px; text-align: right; font-size: 24px; border-radius: 8px; margin-bottom: 10px; min-height: 40px; border: 1px solid #ddd; }
        .c-btn { background: var(--card); color: var(--text); padding: 18px; border-radius: 8px; border: 1px solid var(--border); font-size: 18px; cursor: pointer; }
        
        .sci-grid { grid-template-columns: repeat(4, 1fr) !important; max-width: 100% !important; }
        .sci-calc-container { background: var(--bg); padding: 10px; border-radius: 10px; border: 1px solid var(--border); }
        .sci-grid .c-btn { padding: 12px 5px !important; font-size: 14px !important; }
        
        .editor-toolbar { position: sticky; top: 0; z-index: 1100; padding: 10px; margin-bottom: 0 !important; border-radius: 0 0 12px 12px; }
#editorBody { word-wrap: break-word; overflow-wrap: break-word; font-family: 'Arial', sans-serif; color: black; transition: transform 0.2s; }
#pageContainer { min-height: 400px; }

    </style>
</head>
<body>

<div class="container">
    <div class="user-info">
        <div>
            <h2>All In One</h2>
            <p>‚úâÔ∏è ashiqur2270@gmail.com</p>
        </div>
       <input type="text" placeholder="üîç Search..." oninput="globalSearch(this.value)">
    </div>

    <div class="home-grid">
        <button class="home-btn" onclick="show('notepadSec')">üìù Notepad</button>
        <button class="home-btn" onclick="show('backupSec')">üíæ Backup</button>
        
        <button class="home-btn" onclick="show('ecSec')">üí∞ Earning & Cost</button>
        <button class="home-btn" onclick="show('calcSec')">üî¢ Calculator</button>

<button class="home-btn" onclick="show('sciCalcSec')">üî¨ Scientific-Calc</button>

        <button class="home-btn" onclick="show('ageSec')">üéÇ Age Calc</button>
       <button class="home-btn" onclick="show('calendarSec')">üìÖ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞</button>

        <button class="home-btn" onclick="show('tallySec')">üìä Tally</button>
       

        <button class="home-btn" onclick="show('convSec')">üìè Converter</button>
        <button class="home-btn" onclick="show('loanSec')">üè¶ Loan %</button>
        <button class="home-btn" onclick="show('dollarSec')">üíµ $ to Taka</button>
        <button class="home-btn" onclick="show('mbSec')">üöÄ M/B/T Calc</button>
        <button class="home-btn" onclick="show('pwdSec')">üîê Password Gen</button>
<button class="home-btn" onclick="show('stopwatchSec')">‚è± Stopwatch</button>
<button class="home-btn" onclick="show('timerSec')">‚è≤Ô∏è Timer</button>
<button class="home-btn" onclick="show('unitConvSec')">üìè Unit Converter</button>
<button class="home-btn" onclick="show('landSec')">üìê Measure Land</button>

    </div>

    <div id="notepadSec" class="card section">
        <button class="back-btn" onclick="goHome()">‚¨Ö Back</button>

        <h3>Notepad</h3>
        <input type="text" id="noteTitle" placeholder="‡¶∂‡¶ø‡¶∞‡ßã‡¶®‡¶æ‡¶Æ">
        <textarea id="noteText" rows="4" placeholder="‡¶®‡ßã‡¶ü ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..."></textarea>
        <div style="margin: 10px 0;">Font Size: <input type="number" id="noteFS" value="16" style="width:70px; display:inline;"></div>
        <button onclick="saveNote()">Save</button>
        <button class="blue" onclick="exportData('noteList', 'pdf', 'noteFS')">PDF</button>
        <button class="orange" onclick="exportData('noteList', 'img', 'noteFS')">Image</button>
        <div id="noteList"></div>
    </div>
<div id="backupSec" class="card section">
    <button class="back-btn" onclick="goHome()">‚¨Ö Back</button>

    <h3>Backup & Restore</h3>

    <button class="blue" onclick="exportBackup()" style="width:100%">‚¨á Export Backup</button>
    <br><br>
    <input type="file" id="backupFile">
    <button class="orange" onclick="importBackup()" style="width:100%">‚¨Ü Restore Backup</button>

    <p style="font-size:12px;color:gray">
        * ‡¶∏‡¶¨ Note, Cost, Age, Calculator ‡¶°‡¶æ‡¶ü‡¶æ ‡¶∏‡ßá‡¶≠ ‡¶π‡¶¨‡ßá
    </p>
</div>


    <div id="ecSec" class="card section">
        <button class="back-btn" onclick="goHome()">‚¨Ö Back</button>

        <h3>Earning & Cost</h3>
        <input type="datetime-local" id="ecDate">
        <input type="text" id="ecType" placeholder="‡¶Ü‡ßü/‡¶¨‡ßç‡¶Ø‡ßü‡ßá‡¶∞ ‡¶ß‡¶∞‡¶£">
        <input type="number" id="ecIn" placeholder="‡¶Ü‡ßü ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£">
        <input type="number" id="ecOut" placeholder="‡¶¨‡ßç‡¶Ø‡ßü ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£">
        <button onclick="addEC()" style="width:100%">Add (Auto Reset)</button>
        <hr>
        Font Size: <input type="number" id="ecFS" value="14" style="width:70px; display:inline;">
        <button class="blue" onclick="toggle('ecTableWrap')">Saved List</button>
        <button class="orange" onclick="exportData('ecPrint', 'pdf', 'ecFS')">PDF</button>
        <div id="ecTableWrap" class="hidden">
            <div id="ecPrint">
                <h3 style="text-align:center">‡¶Ü‡¶Ø‡¶º ‡¶¨‡ßç‡¶Ø‡¶Ø‡¶º ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü</h3>
                <table>
                    <thead><tr><th>‡¶®‡¶Ç</th><th>‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ</th><th>‡¶ß‡¶∞‡¶£</th><th>‡¶Ü‡ßü</th><th>‡¶¨‡ßç‡¶Ø‡ßü</th><th>‡¶Ö‡¶¨‡¶∂‡¶ø‡¶∑‡ßç‡¶ü</th><th>X</th></tr></thead>
                    <tbody id="ecBody"></tbody>
                </table>
            </div>
        </div>
    </div>


    <div id="calcSec" class="card section">
        <button class="back-btn" onclick="goHome()">‚¨Ö Back</button>

        <h3>Full Calculator</h3>
        <div class="calc-grid">
            <div id="scr" class="calc-screen">0</div>
            <button class="c-btn" onclick="cClr()">C</button>
            <button class="c-btn" onclick="cPress('/')">/</button>
            <button class="c-btn" onclick="cPress('*')">*</button>
            <button class="c-btn" onclick="cBack()">‚å´</button>
            <button class="c-btn" onclick="cPress('7')">7</button>
            <button class="c-btn" onclick="cPress('8')">8</button>
            <button class="c-btn" onclick="cPress('9')">9</button>
            <button class="c-btn blue" onclick="cPress('-')">-</button>
            <button class="c-btn" onclick="cPress('4')">4</button>
            <button class="c-btn" onclick="cPress('5')">5</button>
            <button class="c-btn" onclick="cPress('6')">6</button>
            <button class="c-btn blue" onclick="cPress('+')">+</button>
            <button class="c-btn" onclick="cPress('1')">1</button>
            <button class="c-btn" onclick="cPress('2')">2</button>
            <button class="c-btn" onclick="cPress('3')">3</button>
            <button class="c-btn blue" onclick="cRes()">=</button>
            <button class="c-btn" style="grid-column: span 2;" onclick="cPress('0')">0</button>
            <button class="c-btn" onclick="cPress('.')">.</button>
        </div>
        <input type="text" id="cType" placeholder="‡¶π‡¶ø‡¶∏‡¶æ‡¶¨‡ßá‡¶∞ ‡¶ß‡¶∞‡¶£ (‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞)">
        <button onclick="addCalcFromScr()" class="blue" style="width:100%">Add This Result</button>
        
        <div style="margin: 15px 0;">
            Font: <input type="number" id="calcFS" value="16" style="width:60px;">
            <button class="blue" onclick="exportData('cPrintArea', 'pdf', 'calcFS')">PDF</button>
        </div>

        <div id="cPrintArea" style="background: white; padding: 10px; border-radius: 5px;">
            <h3 style="text-align:center; color: #000;">‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡¶ï‡ßÅ‡¶≤‡ßá‡¶ü‡¶∞ ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü</h3>
            <table>
                <thead><tr style="color: #000;"><th>‡¶ß‡¶∞‡¶£</th><th>‡¶ü‡¶æ‡¶ï‡¶æ</th><th>X</th></tr></thead>
                <tbody id="cBody" style="color: #000;"></tbody>
            </table>
            <div class="result-box" style="color: #000;">‡¶Æ‡ßã‡¶ü ‡¶π‡¶ø‡¶∏‡ßá‡¶¨: <span id="cTotal">0</span> ‡ß≥</div>
        </div>
    </div>

<div id="sciCalcSec" class="card section">
  <button class="back-btn" onclick="goHome()">‚¨Ö Back</button>

    <h3>Scientific Calculator</h3>
    <div class="sci-calc-container">
        <div id="sci-screen" class="calc-screen">0</div>
        <div class="calc-grid sci-grid">
            <button class="c-btn func-btn" onclick="squareSci()">x¬≤</button>
<button class="c-btn func-btn" onclick="reciprocalSci()">1/x</button>
<button class="c-btn func-btn" onclick="absSci()">|x|</button>
            
            <button class="c-btn orange" onclick="sciPress('sin(')">sin</button>
            <button class="c-btn orange" onclick="sciPress('cos(')">cos</button>
            <button class="c-btn orange" onclick="sciPress('tan(')">tan</button>
            <button class="c-btn red" onclick="cClrSci()">AC</button>
            
            <button class="c-btn" onclick="sciPress('Math.PI')">œÄ</button>
            <button class="c-btn" onclick="sciPress('Math.sqrt(')">‚àö</button>
            <button class="c-btn" onclick="sciPress('**')">^</button>
            <button class="c-btn" onclick="cBackSci()">‚å´</button>
            
            <button class="c-btn" onclick="sciPress('Math.log10(')">log</button>
            <button class="c-btn" onclick="sciPress('Math.log(')">ln</button>
            <button class="c-btn" onclick="sciPress('(')">(</button>
            <button class="c-btn" onclick="sciPress(')')">)</button>
            
            <button class="c-btn" onclick="sciPress('7')">7</button>
            <button class="c-btn" onclick="sciPress('8')">8</button>
            <button class="c-btn" onclick="sciPress('9')">9</button>
            <button class="c-btn blue" onclick="sciPress('/')">√∑</button>
            
            <button class="c-btn" onclick="sciPress('4')">4</button>
            <button class="c-btn" onclick="sciPress('5')">5</button>
            <button class="c-btn" onclick="sciPress('6')">6</button>
            <button class="c-btn blue" onclick="sciPress('*')">√ó</button>
            
            <button class="c-btn" onclick="sciPress('1')">1</button>
            <button class="c-btn" onclick="sciPress('2')">2</button>
            <button class="c-btn" onclick="sciPress('3')">3</button>
            <button class="c-btn blue" onclick="sciPress('-')">-</button>
            
            <button class="c-btn" onclick="sciPress('0')">0</button>
            <button class="c-btn" onclick="sciPress('.')">.</button>
            <button class="c-btn blue" onclick="cResSci()">=</button>
            <button class="c-btn blue" onclick="sciPress('+')">+</button>
        </div>
    </div>
</div>



    <div id="ageSec" class="card section">
       <button class="back-btn" onclick="goHome()">‚¨Ö Back</button>

        <h3>Age Calculator (Live)</h3>
     <p style="font-size: 12px; color: gray;">‡¶ú‡¶®‡ßç‡¶Æ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶® (‡¶¶‡¶ø‡¶®-‡¶Æ‡¶æ‡¶∏-‡¶¨‡¶õ‡¶∞):</p>
        <input type="text" id="dob" placeholder="DD-MM-YYYY (‡¶Ø‡ßá‡¶Æ‡¶®: 15-08-1998)">
        <button class="blue" onclick="startLiveAge()" style="width:100%">Quick Calculate</button>
        
        <div id="ageResult" class="result-box hidden">
            ‡¶¨‡ßü‡¶∏ ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶ú‡¶®‡ßç‡¶Æ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶¶‡¶ø‡¶®...
        </div>

        <input type="text" id="ageName" placeholder="‡¶¨‡ßç‡¶Ø‡¶ï‡ßç‡¶§‡¶ø‡¶∞ ‡¶®‡¶æ‡¶Æ">
        <button onclick="saveAge()" style="width:100%">Save Birthday</button>
        <button class="orange" onclick="toggle('ageListWrap')" style="width:100%">Saved Birthdays</button>
        
        <div id="ageListWrap" class="hidden">
            <div id="savedAgesContainer"></div>
        </div>
    </div>

<div id="calendarSec" class="card section">
   <button class="back-btn" onclick="goHome()">‚¨Ö Back</button>

    <h3>üìÖ ‡¶®‡¶ø‡¶∞‡ßç‡¶≠‡ßÅ‡¶≤ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞</h3>
    
    <p style="font-size: 13px; color: gray;">‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶® (‡¶¶‡¶ø‡¶®-‡¶Æ‡¶æ‡¶∏-‡¶¨‡¶õ‡¶∞):</p>
    <input type="text" id="calInput" 
           placeholder="DD-MM-YYYY" 
           oninput="formatAndStyleDate(this)" 
           style="font-size: 18px; font-weight: bold; width: 80%; padding: 12px; margin-bottom: 20px; border: 2px solid var(--accent); border-radius: 8px; text-align: center;">

    <div class="result-box" style="background: rgba(66, 183, 42, 0.1); border: 2px solid #42b72a; padding: 20px; border-radius: 12px;">
        <small style="color: #42b72a; font-weight: bold;">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ:</small>
        <div id="bnDateRes" style="font-size: 24px; font-weight: bold; margin-top: 10px; color: var(--text);">‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®</div>
    </div>
</div>



    <div id="tallySec" class="card section">
        <button class="back-btn" onclick="goHome()">‚¨Ö Back</button>

        <h3>‡¶ü‡¶æ‡¶≤‡¶ø ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶æ‡¶∞</h3>
        <h1 id="tCnt" style="text-align:center; font-size:60px; margin:20px 0;">0</h1>
        <div style="display:flex; gap:10px;">
            <button style="flex:1" onclick="tally(1)">+ ‡¶Ø‡ßã‡¶ó</button>
            <button style="flex:1" class="red" onclick="tally(-1)">- ‡¶¨‡¶ø‡ßü‡ßã‡¶ó</button>
            <button style="flex:1" class="orange" onclick="tally(0)">‡¶∞‡¶ø‡¶∏‡ßá‡¶ü</button>
        </div>
    </div>



    <div id="convSec" class="card section">
        <button class="back-btn" onclick="goHome()">‚¨Ö Back</button>

        <h3>Universal Converter</h3>
        <input type="number" id="unitVal" placeholder="‡¶Æ‡¶æ‡¶® ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®">
        <select id="unitFrom">
            <option value="ft">Feet (ft)</option>
            <option value="cm">Centimeter (cm)</option>
            <option value="m">Meter (m)</option>
            <option value="in">Inch (in)</option>
        </select>
        <select id="unitTo">
            <option value="cm">Centimeter (cm)</option>
            <option value="ft">Feet (ft)</option>
            <option value="m">Meter (m)</option>
            <option value="in">Inch (in)</option>
        </select>
        <button class="blue" onclick="unitConvert()" style="width:100%">Convert</button>
        <div id="unitRes" class="result-box hidden"></div>
    </div>

</div>

    <div id="loanSec" class="card section">
        <button class="back-btn" onclick="goHome()">‚¨Ö Back</button>

        <h3>Loan % Checker</h3>
        <input type="number" id="lAmt" placeholder="‡¶ü‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£">
        <input type="number" id="lRate" placeholder="‡¶∏‡ßÅ‡¶¶‡ßá‡¶∞ ‡¶π‡¶æ‡¶∞ (%)">
        <div style="display:flex; gap:5px;">
            <button style="flex:1" onclick="loanCalc('simple')">‡¶∏‡¶∞‡¶≤ ‡¶∏‡ßÅ‡¶¶</button>
            <button style="flex:1" class="blue" onclick="loanCalc('comp')">‡¶ö‡¶ï‡ßç‡¶∞‡¶¨‡ßÉ‡¶¶‡ßç‡¶ß‡¶ø ‡¶∏‡ßÅ‡¶¶</button>
        </div>
        <button class="red" onclick="loanReset()" style="width:100%">Reset</button>
        <div id="loanRes" class="result-box hidden"></div>
    </div>

    <div id="dollarSec" class="card section">
        <button class="back-btn" onclick="goHome()">‚¨Ö Back</button>

        <h3>Dollar to Taka</p>
        <h4>‡¶°‡¶≤‡¶æ‡¶∞ ‡¶∞‡ßá‡¶á‡¶ü ‡¶¨‡¶ï‡ßç‡¶∏‡ßá ‡¶Ø‡ßá‡¶ï‡ßã‡¶® ‡¶ü‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶∞‡ßá‡¶á‡¶ü ‡¶¶‡¶ø‡ßü‡ßá ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶™ ‡¶∏‡¶Æ‡ßç‡¶¨‡¶¨</p>
        <input type="number" id="dRate" placeholder="Today Dollar Rate">
        <input type="number" id="dAmt" placeholder="‡¶°‡¶≤‡¶æ‡¶∞ ‡¶è‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£" ($)">
        <button class="blue" onclick="dollarCalc()" style="width:100%">‡¶ü‡¶æ‡¶ï‡¶æ‡ßü ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button>
        <div id="dollarRes" class="result-box hidden"></div>
    </div>

    <div id="mbSec" class="card section">
        <button class="back-btn" onclick="goHome()">‚¨Ö Back</button>

        <h3>K/Million/Billion Converter</h3>
        <input type="number" id="mbVal" placeholder="‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶® (e.g. 1)">
        <select id="mbType">
            <option value="k">K (‡¶π‡¶æ‡¶ú‡¶æ‡¶∞)</option>
            <option value="m">Million (‡ßß‡ß¶ ‡¶≤‡¶ï‡ßç‡¶∑)</option>
            <option value="b">Billion ( ‡ßß‡ß¶‡ß¶ ‡¶ï‡ßã‡¶ü‡¶ø)</option>
            <option value="t">Trillion</option>
        </select>
        <input type="number" id="mbDRate" placeholder="‡¶°‡¶≤‡¶æ‡¶∞ ‡¶∞‡ßá‡¶á‡¶ü (‡¶ü‡¶æ‡¶ï‡¶æ‡ßü ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡¶§‡ßá)">
        <button class="blue" onclick="mbConverter()" style="width:100%">Convert</button>
        <button class="red" onclick="mbReset()" style="width:100%">Reset</button>
        <div id="mbRes" class="result-box hidden"></div>
    </div>
</div>



<div id="pwdSec" class="card section">
    <button class="back-btn" onclick="goHome()">‚¨Ö Back</button>

    <h3>üîê Strong Password Generator</h3>
    
    <div id="passOutput" class="result-box" style="font-size: 22px; letter-spacing: 2px; word-break: break-all; min-height: 40px;">
        ********
    </div>

    <div style="margin: 15px 0;">
        ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡ßà‡¶∞‡ßç‡¶ò‡ßç‡¶Ø: <input type="number" id="pwdLength" value="10" min="8" max="30" style="width: 70px; display: inline;">
    </div>

    <div style="display: flex; gap: 5px;">
        <button class="blue" onclick="generatePassword()" style="flex: 2;">Generate Password</button>
        <button class="orange" onclick="copyPassword()" style="flex: 1;">Copy</button>
    </div>
    
    <p style="font-size: 12px; color: gray; margin-top: 10px;">
        * ‡¶è‡¶§‡ßá ‡¶•‡¶æ‡¶ï‡¶¨‡ßá: A-Z, a-z, 0-9 ‡¶è‡¶¨‡¶Ç @#$%&*
    </p>
</div>
<div id="stopwatchSec" class="card section">
<button class="back-btn" onclick="goHome()">‚¨Ö Back</button>

    <h3>‚è± Stopwatch</h3>
    <h1 id="swDisplay" style="text-align:center; font-family: monospace; font-size: 50px; margin: 20px 0;">00:00:00.0</h1>
    <div style="display:flex; gap:10px;">
        <button id="swStartBtn" style="flex:1" onclick="startStopwatch()">Start</button>
        <button style="flex:1" class="blue" onclick="lapStopwatch()">Lap (Loop)</button>
        <button style="flex:1" class="red" onclick="resetStopwatch()">Reset</button>
    </div>
    <div id="lapList" style="margin-top: 15px; max-height: 200px; overflow-y: auto; border-top: 1px solid var(--border);">
        </div>
</div>

<div id="timerSec" class="card section">
   <button class="back-btn" onclick="goHome()">‚¨Ö Back</button>

    <h3>‚è≤Ô∏è Countdown Timer</h3>
    <div style="display: flex; gap: 5px; margin-bottom: 15px;">
        <input type="number" id="tMin" placeholder="Min" min="0">
        <input type="number" id="tSec" placeholder="Sec" min="0" max="59">
    </div>
    <h1 id="tDisplay" style="text-align:center; font-family: monospace; font-size: 50px; margin: 20px 0;">00:00</h1>
    <div style="display:flex; gap:10px;">
        <button id="timerStartBtn" style="flex:1" onclick="startTimer()">Start Timer</button>
        <button style="flex:1" class="red" onclick="resetTimer()">Reset</button>
    </div>
</div>
<div id="unitConvSec" class="card section">
<button class="back-btn" onclick="goHome()">‚¨Ö Back</button>

    <h3>üìè Smart Unit Converter</h3>
    
    <label style="font-size: 12px; color: gray;">‡¶™‡ßç‡¶Ø‡¶æ‡¶∞‡¶æ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®:</label>
    <select id="unitType" onchange="updateUnits()" style="margin-bottom: 20px;">
        <optgroup label="‡¶¶‡ßà‡¶∞‡ßç‡¶ò‡ßç‡¶Ø ‡¶ì ‡¶¶‡ßÇ‡¶∞‡¶§‡ßç‡¶¨ (Length)">
            <option value="m-ft">Meter ‚áÑ Feet (ft)</option>
            <option value="ft-in">Feet (ft) ‚áÑ Inch (in)</option>
            <option value="in-cm">Inch (in) ‚áÑ Centimeter (cm)</option>
            <option value="km-m">Kilometer (km) ‚áÑ Meter (m)</option>
        </optgroup>
        <optgroup label="‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡ßÅ‡ßé ‡¶ì ‡¶°‡ßá‡¶ü‡¶æ (Power & Data)">
            <option value="kwh-w">kWh ‚áÑ Watt (‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶ò‡¶£‡ßç‡¶ü‡¶æ)</option>
            <option value="mbps-mb">Mbps ‚áÑ MB (‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°)</option>
        </optgroup>
        <optgroup label="‡¶ó‡¶§‡¶ø ‡¶ì ‡¶§‡¶æ‡¶™‡¶Æ‡¶æ‡¶§‡ßç‡¶∞‡¶æ (Speed & Temp)">
            <option value="kmh-ms">Km/h ‚áÑ Meter/Sec</option>
            <option value="c-f">Celsius (¬∞C) ‚áÑ Fahrenheit (¬∞F)</option>
        </optgroup>
        <optgroup label="‡¶ì‡¶ú‡¶® (Weight)">
            <option value="kg-ton">KG ‚áÑ Ton</option>
            <option value="g-kg">Gram (g) ‚áÑ KG</option>
            <option value="kg-lb">KG ‚áÑ Pound (lb)</option>
        </optgroup>
    </select>

    <div style="display: flex; align-items: center; gap: 10px; background: rgba(0,0,0,0.02); padding: 15px; border-radius: 10px;">
        <div style="flex: 1;">
            <small id="unitLabel1" style="font-weight: bold; color: var(--accent);">Meter</small>
            <input type="number" id="val1" placeholder="0" oninput="convert(1)" style="font-size: 18px; font-weight: bold;">
        </div>
        
        <div style="margin-top: 15px; font-size: 20px; color: #888;">‚áÑ</div>

        <div style="flex: 1;">
            <small id="unitLabel2" style="font-weight: bold; color: var(--accent);">Feet</small>
            <input type="number" id="val2" placeholder="0" oninput="convert(2)" style="font-size: 18px; font-weight: bold;">
        </div>
    </div>
    
    <div style="margin-top: 15px; display: flex; gap: 10px;">
        <button class="red" onclick="resetUnits()" style="flex: 1;">Clear</button>
        <button class="blue" onclick="show('home')" style="flex: 1;">Back</button>
    </div>
</div>

<div id="landSec" class="card section">
   <button class="back-btn" onclick="goHome()">‚¨Ö Back</button>

    <h3>üìê ‡¶ú‡¶Æ‡¶ø ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶™ (Advanced Land Calc)</h3>
    
    <div class="land-inputs">
        <p style="font-size: 12px; color: gray; margin-bottom: 5px;">‡¶¨‡¶æ‡¶π‡ßÅ‡¶∞ ‡¶¶‡ßà‡¶∞‡ßç‡¶ò‡ßç‡¶Ø (‡¶´‡ßÅ‡¶ü):</p>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <input type="number" id="L1" placeholder="‡¶¶‡ßà‡¶∞‡ßç‡¶ò‡ßç‡¶Ø ‡ßß (A-B)">
            <input type="number" id="L2" placeholder="‡¶¶‡ßà‡¶∞‡ßç‡¶ò‡ßç‡¶Ø ‡ß® (C-D)">
            <input type="number" id="W1" placeholder="‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶• ‡ßß (A-C)">
            <input type="number" id="W2" placeholder="‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶• ‡ß® (B-D)">
        </div>
        
        <p style="font-size: 12px; color: #1877f2; margin: 10px 0 5px 0;">‡¶ï‡ßã‡¶£‡¶æ‡¶ï‡ßÅ‡¶£‡¶ø ‡¶ï‡¶∞‡ßç‡¶£ (‡¶®‡¶ø‡¶ñ‡ßÅ‡¶Å‡¶§ ‡¶Æ‡¶æ‡¶™‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø):</p>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <input type="number" id="D_BC" placeholder="‡¶ï‡¶∞‡ßç‡¶£ ‡ßß (B-C)">
            <input type="number" id="D_AD" placeholder="‡¶ï‡¶∞‡ßç‡¶£ ‡ß® (A-D)">
        </div>
    </div>

    <button class="blue" onclick="calculateLandAdvanced()" style="width: 100%; margin-top: 15px;">‡¶π‡¶ø‡¶∏‡¶æ‡¶¨ ‡¶ï‡¶∞‡ßÅ‡¶®</button>

    <div id="landResult" class="result-box hidden"></div>

    <div style="margin-top: 15px;">
        <input type="text" id="landOwner" placeholder="‡¶ú‡¶Æ‡¶ø‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶¨‡¶æ ‡¶Æ‡¶æ‡¶≤‡¶ø‡¶ï‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ">
        <div style="display: flex; gap: 5px;">
            <button onclick="saveLandData()" style="flex: 1;">Save Information</button>
            <button class="orange" onclick="toggle('savedLandWrap')" style="flex: 1;">Show Saved</button>
        </div>
    </div>
    <div id="savedLandWrap" class="hidden" style="margin-top: 15px;">
        <div id="landListContainer"></div>
    </div>
</div>


<script>
// ----------------Js----------
function globalSearch(q){
    q=q.toLowerCase();
    document.querySelectorAll(".card").forEach(c=>{
        c.style.display = c.innerText.toLowerCase().includes(q) ? "block":"none";
    });
}
 // --- Navigation Logic (FULL SCREEN) ---
    function show(id) {
        document.querySelectorAll('.section').forEach(s => s.style.display = 'none');
        document.getElementById('homeUI').style.display = 'none';
        document.getElementById(id).style.display = 'block';
        window.scrollTo(0,0);
        history.pushState({view: id}, ""); 
    }

    function goHome() {
        document.querySelectorAll('.section').forEach(s => s.style.display = 'none');
        document.getElementById('homeUI').style.display = 'block';
    }

    window.onpopstate = function() { goHome(); };

    function globalSearch(q){
        q=q.toLowerCase();
        document.querySelectorAll(".home-btn").forEach(b => {
            b.style.display = b.innerText.toLowerCase().includes(q) ? "block":"none";
        });
    }

   

// ===== COPY RESULT =====
function copyScan(){
    let txt = document.getElementById("scanResult").innerText;
    navigator.clipboard.writeText(txt);
    alert("Copied ‚úÖ");
}

    // Navigation
    function show(id) {
        document.querySelectorAll('.section').forEach(s => s.style.display = 'none');
        document.getElementById(id).style.display = 'block';
    }
    function toggle(id) { document.getElementById(id).classList.toggle('hidden'); }

    // -------- Calculator Functions ---
    
    
    let screen = document.getElementById('scr');
    function cPress(v) { if(screen.innerText === '0') screen.innerText = v; else screen.innerText += v; }
    function cClr() { screen.innerText = '0'; }
    function cBack() { screen.innerText = screen.innerText.slice(0, -1) || '0'; }
    function cRes() { try { screen.innerText = eval(screen.innerText); } catch { screen.innerText = "Error"; } }

    let cHis = JSON.parse(localStorage.getItem('cHis') || '[]');
    function addCalcFromScr() {
        let type = document.getElementById('cType').value || "‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø";
        let val = parseFloat(screen.innerText) || 0;
        cHis.push({t: type, v: val});
        localStorage.setItem('cHis', JSON.stringify(cHis));
        renderCHis();
    }
    function renderCHis() {
        let t = 0;
        document.getElementById('cBody').innerHTML = cHis.map((h, i) => { 
            t += h.v; 
            return `<tr><td>${h.t}</td><td>${h.v}</td><td><button class="red" onclick="delCHis(${i})">X</button></td></tr>`; 
        }).join('');
        document.getElementById('cTotal').innerText = t;
    }
    function delCHis(i) { cHis.splice(i,1); localStorage.setItem('cHis', JSON.stringify(cHis)); renderCHis(); }


// ----------Backup System----------

function exportBackup() {
    let data = {
        notes,
        ecData,
        ageStore,
        cHis
    };
    let blob = new Blob([JSON.stringify(data)], {type:"application/json"});
    let a = document.createElement("a");
    a.href = URL.createObjectURL(blob);
    a.download = "dashboard-backup.json";
    a.click();
}

function importBackup() {
    let file = document.getElementById("backupFile").files[0];
    if (!file) return alert("‡¶´‡¶æ‡¶á‡¶≤ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßã");
    let r = new FileReader();
    r.onload = e => {
        let d = JSON.parse(e.target.result);
        notes = d.notes || [];
        ecData = d.ecData || [];
        ageStore = d.ageStore || [];
        cHis = d.cHis || [];

        localStorage.setItem("notes",JSON.stringify(notes));
        localStorage.setItem("ecData",JSON.stringify(ecData));
        localStorage.setItem("ageStore",JSON.stringify(ageStore));
        localStorage.setItem("cHis",JSON.stringify(cHis));

        renderNotes(); renderEC(); renderAge(); renderCHis();
        alert("Restore Complete ‚úÖ");
    };
    r.readAsText(file);
}


// --- Scientific Calculator Logic ---


let sciScreen = document.getElementById('sci-screen');

function sciPress(v) {
    if (sciScreen.innerText === '0') {
        sciScreen.innerText = v;
    } else {
        sciScreen.innerText += v;
    }
}

function cClrSci() {
    sciScreen.innerText = '0';
}

function cBackSci() {
    sciScreen.innerText = sciScreen.innerText.slice(0, -1) || '0';
}

function squareSci() {
    try {
        let v = eval(sciScreen.innerText);
        sciScreen.innerText = v * v;
    } catch {
        sciScreen.innerText = "Error";
    }
}

function reciprocalSci() {
    try {
        let v = eval(sciScreen.innerText);
        if (v === 0) {
            sciScreen.innerText = "‚àû";
            return;
        }
        sciScreen.innerText = (1 / v).toFixed(8);
    } catch {
        sciScreen.innerText = "Error";
    }
}

function absSci() {
    try {
        let v = eval(sciScreen.innerText);
        sciScreen.innerText = Math.abs(v);
    } catch {
        sciScreen.innerText = "Error";
    }
}

function cResSci() {
    try {
        let exp = sciScreen.innerText
            .replace(/log\(/g, 'Math.log10(')
            .replace(/ln\(/g, 'Math.log(');

        let r = eval(exp);

        sciScreen.innerText = Number.isInteger(r)
            ? r
            : r.toFixed(8);

    } catch {
        sciScreen.innerText = "Error";
        setTimeout(() => sciScreen.innerText = "0", 1500);
    }
}


    // --- Earning & Cost ---
    let ecData = JSON.parse(localStorage.getItem('ecData') || '[]');
    function addEC() {
        let entry = {
            date: document.getElementById('ecDate').value || new Date().toLocaleString(),
            type: document.getElementById('ecType').value,
            inc: parseFloat(document.getElementById('ecIn').value)||0,
            exp: parseFloat(document.getElementById('ecOut').value)||0
        };
        ecData.push(entry);
        localStorage.setItem('ecData', JSON.stringify(ecData));
        document.getElementById('ecType').value=""; document.getElementById('ecIn').value=""; document.getElementById('ecOut').value="";
        renderEC();
    }
    function renderEC() {
        let bal = 0;
        document.getElementById('ecBody').innerHTML = ecData.map((d, i) => {
            bal += (d.inc - d.exp);
            return `<tr><td>${i+1}</td><td>${d.date}</td><td>${d.type}</td><td>${d.inc}</td><td>${d.exp}</td><td>${bal}</td>
            <td><button class="red" onclick="delEC(${i})">X</button></td></tr>`;
        }).join('');
    }
    function delEC(i) { ecData.splice(i,1); localStorage.setItem('ecData', JSON.stringify(ecData)); renderEC(); }

    // -------- Age Calculator Logic (New & Improved) ---
    let liveInterval;
    let savedInterval;

    function parseDate(str) {
        let parts = str.split('-');
        if(parts.length !== 3) return null;
        return new Date(parts[2], parts[1]-1, parts[0]);
    }

    function calculateLiveAge(dobDate) {
        const now = new Date();
        let diff = now - dobDate;
        if(diff < 0) return "‡¶≠‡¶¨‡¶ø‡¶∑‡ßç‡¶Ø‡¶§‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶¨ ‡¶®‡ßü";

        let years = now.getFullYear() - dobDate.getFullYear();
        let months = now.getMonth() - dobDate.getMonth();
        let days = now.getDate() - dobDate.getDate();
        let hours = now.getHours() - dobDate.getHours();
        let mins = now.getMinutes() - dobDate.getMinutes();
        let secs = now.getSeconds() - dobDate.getSeconds();

        if (secs < 0) { mins--; secs += 60; }
        if (mins < 0) { hours--; mins += 60; }
        if (hours < 0) { days--; hours += 24; }
        if (days < 0) { 
            months--; 
            let prevMonth = new Date(now.getFullYear(), now.getMonth(), 0).getDate();
            days += prevMonth; 
        }
        if (months < 0) { years--; months += 12; }

        return `${years}Y ${months}M ${days}D | ${hours}h ${mins}m ${secs}s`;
    }

    function getNextBirthday(dobDate) {
        let now = new Date();
        let next = new Date(now.getFullYear(), dobDate.getMonth(), dobDate.getDate());
        if (next < now) next.setFullYear(now.getFullYear() + 1);
        let diff = next - now;
        let d = Math.floor(diff / (1000 * 60 * 60 * 24));
        let h = Math.floor((diff / (1000 * 60 * 60)) % 24);
        return `${d} ‡¶¶‡¶ø‡¶® ${h} ‡¶ò‡¶£‡ßç‡¶ü‡¶æ ‡¶™‡¶∞`;
    }

    function startLiveAge() {
        clearInterval(liveInterval);
        let dobStr = document.getElementById('dob').value;
        let dobDate = parseDate(dobStr);
        
        if(!dobDate || isNaN(dobDate)) {
            alert("‡¶∏‡¶†‡¶ø‡¶ï ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü‡ßá ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶¶‡¶ø‡¶® (DD-MM-YYYY)");
            return;
        }

        let resBox = document.getElementById('ageResult');
        resBox.classList.remove('hidden');
        
        liveInterval = setInterval(() => {
            resBox.innerText = calculateLiveAge(dobDate);
        }, 1000);
    }

    let ageStore = JSON.parse(localStorage.getItem('ageStore') || '[]');

    function saveAge() {
        let name = document.getElementById('ageName').value;
        let dobStr = document.getElementById('dob').value;
        if(!name || !dobStr) return alert("‡¶®‡¶æ‡¶Æ ‡¶ì ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶â‡¶≠‡ßü‡¶á ‡¶¶‡¶ø‡¶®");
        
        ageStore.push({name, dob: dobStr});
        localStorage.setItem('ageStore', JSON.stringify(ageStore));
        renderAge();
        alert("‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§ ‡¶π‡ßü‡ßá‡¶õ‡ßá!");
    }

    function renderAge() {
        clearInterval(savedInterval);
        const container = document.getElementById('savedAgesContainer');
        
        const updateTable = () => {
            container.innerHTML = `<table>
                <thead><tr><th>‡¶®‡¶æ‡¶Æ</th><th>‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶¨‡ßü‡¶∏ (‡¶≤‡¶æ‡¶á‡¶≠)</th><th>‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶ú‡¶®‡ßç‡¶Æ‡¶¶‡¶ø‡¶®</th><th>X</th></tr></thead>
                <tbody>
                    ${ageStore.map((item, i) => {
                        let d = parseDate(item.dob);
                        return `<tr>
                            <td><b>${item.name}</b><br><small>${item.dob}</small></td>
                            <td style="font-size:12px; color:blue;">${calculateLiveAge(d)}</td>
                            <td>${getNextBirthday(d)}</td>
                            <td><button class="red" onclick="deleteAge(${i})">X</button></td>
                        </tr>`;
                    }).join('')}
                </tbody>
            </table>`;
        };

        updateTable();
        savedInterval = setInterval(updateTable, 1000);
    }

    function deleteAge(i) {
        ageStore.splice(i, 1);
        localStorage.setItem('ageStore', JSON.stringify(ageStore));
        renderAge();
    }

    


    // -------- Tally & Notepad --------
    let tc = 0; function tally(v) { tc = v===0?0:tc+v; tCnt.innerText = tc; }
    let notes = JSON.parse(localStorage.getItem('notes') || '[]');
    function saveNote() { notes.push({t: noteTitle.value, txt: noteText.value}); localStorage.setItem('notes', JSON.stringify(notes)); renderNotes(); }
    function renderNotes() { document.getElementById('noteList').innerHTML = notes.map((n, i) => `<div class="card"><h4>${n.t}</h4><p>${n.txt}</p><button class="red" onclick="notes.splice(${i},1);localStorage.setItem('notes',JSON.stringify(notes));renderNotes()">Delete</button></div>`).join(''); }


    // ------------- Converter --------
    function unitConvert() {
        let v = parseFloat(unitVal.value), f = unitFrom.value, t = unitTo.value;
        let factors = { ft: 0.3048, cm: 0.01, m: 1, in: 0.0254 };
        let res = (v * factors[f]) / factors[t];
        unitRes.classList.remove('hidden');
        unitRes.innerText = `Result: ${res.toFixed(4)} ${t}`;
    }

// ------------------ Loan -------------
    function loanCalc(type) {
        let p = parseFloat(lAmt.value), r = parseFloat(lRate.value)/100;
        let interest = type==='simple' ? p*r : p*(Math.pow(1+r, 1)-1);
        loanRes.classList.remove('hidden');
        loanRes.innerHTML = `‡¶∏‡ßÅ‡¶¶: ${interest.toFixed(2)} ‡ß≥ <br> ‡¶Æ‡ßã‡¶ü: ${(p+interest).toFixed(2)} ‡ß≥`;
    }
    function loanReset() { loanRes.classList.add('hidden'); lAmt.value=""; lRate.value=""; }

    // ------------- Dollar -------------
    function dollarCalc() {
        dollarRes.classList.remove('hidden');
        dollarRes.innerText = `BDT: ${(dRate.value * dAmt.value).toFixed(2)} ‡ß≥`;
    }

    // ----------------- M/B/T ---------
    function mbConverter() {
        let v = parseFloat(mbVal.value), type = mbType.value, dr = parseFloat(mbDRate.value) || 1;
        let f = { k: 1e3, m: 1e6, b: 1e9, t: 1e12 };
        let total = v * f[type] * dr;
        mbRes.classList.remove('hidden');
        mbRes.innerHTML = `‡¶Æ‡ßã‡¶ü: ${total.toLocaleString()} ‡ß≥ <br> ‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Ø: ${(total/1e5).toFixed(2)} <br> ‡¶ï‡ßã‡¶ü‡¶ø: ${(total/1e7).toFixed(4)}`;
    }
    function mbReset() { mbRes.classList.add('hidden'); mbVal.value=""; mbDRate.value=""; }


//---------------password genarator------
function generatePassword() {
    const length = parseInt(document.getElementById("pwdLength").value);
    const chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%&*";
    let pass = "";

    for (let i = 0; i < length; i++) {
        pass += chars[Math.floor(Math.random() * chars.length)];
    }
    document.getElementById("passOutput").innerText = pass;
}

function copyPassword() {
    navigator.clipboard.writeText(
        document.getElementById("passOutput").innerText
    );
    alert("Copied ‚úÖ");
}

// ----------- Stopwatch Logic --------
let swStartTime, swElapsedTime = 0, swInterval;
let swRunning = false;
let lapCounter = 1;

function startStopwatch() {
    if (!swRunning) {
        swStartTime = Date.now() - swElapsedTime;
        swInterval = setInterval(updateStopwatch, 100);
        document.getElementById('swStartBtn').innerText = "Pause";
        swRunning = true;
    } else {
        clearInterval(swInterval);
        document.getElementById('swStartBtn').innerText = "Start";
        swRunning = false;
    }
}

function updateStopwatch() {
    swElapsedTime = Date.now() - swStartTime;
    let totalSeconds = Math.floor(swElapsedTime / 1000);
    let m = Math.floor(totalSeconds / 60).toString().padStart(2, '0');
    let s = (totalSeconds % 60).toString().padStart(2, '0');
    let ms = Math.floor((swElapsedTime % 1000) / 100);
    document.getElementById('swDisplay').innerText = `${m}:${s}.${ms}`;
}

function lapStopwatch() {
    if (swRunning || swElapsedTime > 0) {
        const lapTime = document.getElementById('swDisplay').innerText;
        const lapDiv = document.createElement('div');
        lapDiv.style.padding = "8px";
        lapDiv.style.borderBottom = "1px solid #eee";
        lapDiv.innerHTML = `<strong>Lap ${lapCounter++}:</strong> ${lapTime}`;
        document.getElementById('lapList').prepend(lapDiv);
    }
}

function resetStopwatch() {
    clearInterval(swInterval);
    swRunning = false;
    swElapsedTime = 0;
    lapCounter = 1;
    document.getElementById('swDisplay').innerText = "00:00:00.0";
    document.getElementById('swStartBtn').innerText = "Start";
    document.getElementById('lapList').innerHTML = "";
}

// ------------- Timer Logic ----------
let timerInterval;
let timerRunning = false;

function startTimer() {
    if (timerRunning) {
        clearInterval(timerInterval);
        document.getElementById('timerStartBtn').innerText = "Resume";
        timerRunning = false;
        return;
    }

    let m = parseInt(document.getElementById('tMin').value) || 0;
    let s = parseInt(document.getElementById('tSec').value) || 0;
    let totalSeconds = (m * 60) + s;

    if (totalSeconds <= 0) return alert("‡¶∏‡¶Æ‡ßü ‡¶®‡¶ø‡¶∞‡ßç‡¶ß‡¶æ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®!");

    timerRunning = true;
    document.getElementById('timerStartBtn').innerText = "Pause";

    timerInterval = setInterval(() => {
        totalSeconds--;
        let displayM = Math.floor(totalSeconds / 60).toString().padStart(2, '0');
        let displayS = (totalSeconds % 60).toString().padStart(2, '0');
        document.getElementById('tDisplay').innerText = `${displayM}:${displayS}`;

        if (totalSeconds <= 0) {
            clearInterval(timerInterval);
            timerRunning = false;
            document.getElementById('timerStartBtn').innerText = "Start Timer";
            alert("‡¶∏‡¶Æ‡ßü ‡¶∂‡ßá‡¶∑!");
        }
    }, 1000);
}

function resetTimer() {
    clearInterval(timerInterval);
    timerRunning = false;
    document.getElementById('tDisplay').innerText = "00:00";
    document.getElementById('timerStartBtn').innerText = "Start Timer";
    document.getElementById('tMin').value = "";
    document.getElementById('tSec').value = "";
}
// -------- Unit Converter Logic --------

function updateUnits() {
    const type = document.getElementById('unitType').value;
    const label1 = document.getElementById('unitLabel1');
    const label2 = document.getElementById('unitLabel2');
    
    const unitNames = {
        "m-ft": ["Meter", "Feet"],
        "ft-in": ["Feet", "Inch"],
        "in-cm": ["Inch", "Centimeter"],
        "kwh-w": ["kWh", "Watt"],
        "mbps-mb": ["Mbps", "MegaByte (MB)"],
        "kmh-ms": ["Km/h", "Meter/Sec"],
        "c-f": ["Celsius (¬∞C)", "Fahrenheit (¬∞F)"],
        "kg-ton": ["KG", "Ton"],
        "g-kg": ["Gram (g)", "KG"],
        "kg-lb": ["KG", "Pound (lb)"],
        "km-m": ["Kilometer (km)", "Meter (m)"]
    };

    label1.innerText = unitNames[type][0];
    label2.innerText = unitNames[type][1];
    resetUnits();
}

function convert(source) {
    const type = document.getElementById('unitType').value;
    const v1 = document.getElementById('val1');
    const v2 = document.getElementById('val2');

    let inputVal = source === 1 ? parseFloat(v1.value) : parseFloat(v2.value);
    
    if (isNaN(inputVal)) {
        if(source === 1) v2.value = ""; else v1.value = "";
        return;
    }

    let result;

    switch (type) {
        case "m-ft":
            result = source === 1 ? inputVal * 3.28084 : inputVal / 3.28084;
            break;
        case "ft-in":
            result = source === 1 ? inputVal * 12 : inputVal / 12;
            break;
        case "in-cm":
            result = source === 1 ? inputVal * 2.54 : inputVal / 2.54;
            break;
        case "kwh-w":
            result = source === 1 ? inputVal * 1000 : inputVal / 1000;
            break;
        case "mbps-mb":
            result = source === 1 ? inputVal / 8 : inputVal * 8;
            break;
        case "kmh-ms":
            result = source === 1 ? inputVal / 3.6 : inputVal * 3.6;
            break;
        case "c-f":
            result = source === 1 ? (inputVal * 9/5) + 32 : (inputVal - 32) * 5/9;
            break;
        case "kg-ton":
            result = source === 1 ? inputVal / 1000 : inputVal * 1000;
            break;
        case "g-kg":
            result = source === 1 ? inputVal / 1000 : inputVal * 1000;
            break;
        case "kg-lb":
            result = source === 1 ? inputVal * 2.20462 : inputVal / 2.20462;
            break;
        case "km-m":
            result = source === 1 ? inputVal * 1000 : inputVal / 1000;
            break;
    }

    // ‡¶∞‡ßá‡¶ú‡¶æ‡¶≤‡ßç‡¶ü ‡ß™ ‡¶¶‡¶∂‡¶Æ‡¶ø‡¶ï ‡¶ò‡¶∞ ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá
    if (source === 1) {
        v2.value = Number(result.toFixed(4));
    } else {
        v1.value = Number(result.toFixed(4));
    }
}

function resetUnits() {
    document.getElementById('val1').value = "";
    document.getElementById('val2').value = "";
}
//_________-----_Land_____________

function calculateLandAdvanced() {
    // ‡¶¨‡¶æ‡¶π‡ßÅ‡¶∏‡¶Æ‡ßÇ‡¶π
    const ab = parseFloat(document.getElementById('L1').value) || 0;
    const cd = parseFloat(document.getElementById('L2').value) || 0;
    const ac = parseFloat(document.getElementById('W1').value) || 0;
    const bd = parseFloat(document.getElementById('W2').value) || 0;
    
    // ‡¶ï‡¶∞‡ßç‡¶£‡¶∏‡¶Æ‡ßÇ‡¶π
    const bc = parseFloat(document.getElementById('D_BC').value) || 0;
    const ad = parseFloat(document.getElementById('D_AD').value) || 0;

    const resBox = document.getElementById('landResult');

    if (ab <= 0 || cd <= 0 || ac <= 0 || bd <= 0) {
        alert("‡¶∏‡¶¨‡¶ó‡ßÅ‡¶≤‡ßã ‡¶¨‡¶æ‡¶π‡ßÅ‡¶∞ ‡¶Æ‡¶æ‡¶™ ‡¶∏‡¶†‡¶ø‡¶ï‡¶≠‡¶æ‡¶¨‡ßá ‡¶¶‡¶ø‡¶®!");
        return;
    }

    let area = 0;

    // ‡¶Ø‡¶¶‡¶ø ‡¶ï‡ßã‡¶®‡ßã ‡¶ï‡¶∞‡ßç‡¶£ ‡¶®‡¶æ ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶π‡ßü (‡¶ó‡ßú ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø)
    if (bc === 0 && ad === 0) {
        area = ((ab + cd) / 2) * ((ac + bd) / 2);
    } 
    // ‡¶Ø‡¶¶‡¶ø ‡¶ï‡¶∞‡ßç‡¶£ ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶π‡ßü (‡¶§‡ßç‡¶∞‡¶ø‡¶≠‡ßÅ‡¶ú ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø - ‡¶π‡ßç‡¶Ø‡¶æ‡¶∞‡¶®‡¶∏ ‡¶´‡¶∞‡ßç‡¶Æ‡ßÅ‡¶≤‡¶æ)
    else {
        let diag = 0;
        if (bc > 0 && ad > 0) diag = (bc + ad) / 2; // ‡¶¶‡ßÅ‡¶á ‡¶ï‡¶∞‡ßç‡¶£ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶ó‡ßú ‡¶π‡¶¨‡ßá
        else diag = bc > 0 ? bc : ad; // ‡¶è‡¶ï‡¶ü‡¶ø ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶∏‡ßá‡¶ü‡¶ø‡¶á ‡¶π‡¶¨‡ßá

        // ‡ßß‡¶Æ ‡¶§‡ßç‡¶∞‡¶ø‡¶≠‡ßÅ‡¶ú (AB, AC, Diag)
        let s1 = (ab + ac + diag) / 2;
        let area1 = Math.sqrt(s1 * (s1 - ab) * (s1 - ac) * (s1 - diag));

        // ‡ß®‡ßü ‡¶§‡ßç‡¶∞‡¶ø‡¶≠‡ßÅ‡¶ú (CD, BD, Diag)
        let s2 = (cd + bd + diag) / 2;
        let area2 = Math.sqrt(s2 * (s2 - cd) * (s2 - bd) * (s2 - diag));

        area = area1 + area2;
    }

    if (isNaN(area) || area <= 0) {
        alert("‡¶Æ‡¶æ‡¶™‡¶ó‡ßÅ‡¶≤‡ßã ‡¶Ø‡ßå‡¶ï‡ßç‡¶§‡¶ø‡¶ï ‡¶®‡ßü! ‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶∏‡¶†‡¶ø‡¶ï ‡¶Æ‡¶æ‡¶™ ‡¶¶‡¶ø‡¶®‡•§");
        return;
    }

    let shotansho = area / 435.6;
    let katha = area / 720;

    resBox.classList.remove('hidden');
    resBox.innerHTML = `
        <b>‡¶Æ‡ßã‡¶ü ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ:</b> ${area.toFixed(2)} ‡¶¨‡¶∞‡ßç‡¶ó‡¶´‡ßÅ‡¶ü<br>
        <span style="color:blue"><b>‡¶∂‡¶§‡¶æ‡¶Ç‡¶∂:</b> ${shotansho.toFixed(3)}</span><br>
        <b>‡¶ï‡¶æ‡¶†‡¶æ:</b> ${katha.toFixed(3)}
    `;}

const DPI = 96;

function execCmd(command, value = null) {
    document.execCommand(command, false, value);
}

function toggleCustomSize() {
    const size = document.getElementById('pageSize').value;
    const customWrap = document.getElementById('customSizeWrap');
    size === 'custom' ? customWrap.classList.remove('hidden') : customWrap.classList.add('hidden');
    applyPageSettings();
}
//_______________Calender_____________
// ‡¶ï‡¶ø‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶¶‡¶ø‡ßü‡ßá ‡¶ü‡¶æ‡¶á‡¶™ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßü ‡¶Ö‡¶ü‡ßã ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü (DD-MM-YYYY)
function formatAndStyleDate(el) {
    let val = el.value.replace(/\D/g, ''); // ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶∞‡¶æ‡¶ñ‡¶¨‡ßá
    if (val.length > 8) val = val.slice(0, 8);
    
    let formatted = "";
    if (val.length > 0) formatted += val.substring(0, 2);
    if (val.length > 2) formatted += '-' + val.substring(2, 4);
    if (val.length > 4) formatted += '-' + val.substring(4, 8);
    
    el.value = formatted;

    // ‡¶Ø‡¶¶‡¶ø ‡¶™‡ßÅ‡¶∞‡ßã ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ (‡ßß‡ß¶ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶∞‡ßá‡¶ï‡ßç‡¶ü‡¶æ‡¶∞) ‡¶≤‡ßá‡¶ñ‡¶æ ‡¶π‡ßü, ‡¶§‡¶¨‡ßá ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá
    if (formatted.length === 10) {
        const parts = formatted.split('-');
        const day = parseInt(parts[0]);
        const month = parseInt(parts[1]) - 1;
        const year = parseInt(parts[2]);
        
        const dateObj = new Date(year, month, day);
        
        // ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ‡¶ü‡¶ø ‡¶∏‡¶†‡¶ø‡¶ï ‡¶ï‡¶ø ‡¶®‡¶æ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ (‡¶Ø‡ßá‡¶Æ‡¶® ‡ß©‡ß¶‡¶∂‡ßá ‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ‡ßü‡¶æ‡¶∞‡¶ø ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ)
        if (dateObj.getFullYear() === year && dateObj.getMonth() === month && dateObj.getDate() === day) {
            document.getElementById('bnDateRes').innerText = getBanglaDate(dateObj);
        } else {
            document.getElementById('bnDateRes').innerText = "‡¶∏‡¶†‡¶ø‡¶ï ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶¶‡¶ø‡¶®";
        }
    } else {
        document.getElementById('bnDateRes').innerText = "‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®...";
    }
}

function getBanglaDate(date) {
    const day = date.getDate();
    const month = date.getMonth() + 1; 
    const year = date.getFullYear();
    
    let bnYear = (month < 4 || (month === 4 && day < 14)) ? year - 594 : year - 593;
    const bnMonths = ["‡¶¨‡ßà‡¶∂‡¶æ‡¶ñ", "‡¶ú‡ßç‡¶Ø‡ßà‡¶∑‡ßç‡¶†", "‡¶Ü‡¶∑‡¶æ‡¶¢‡¶º", "‡¶∂‡ßç‡¶∞‡¶æ‡¶¨‡¶£", "‡¶≠‡¶æ‡¶¶‡ßç‡¶∞", "‡¶Ü‡¶∂‡ßç‡¶¨‡¶ø‡¶®", "‡¶ï‡¶æ‡¶∞‡ßç‡¶§‡¶ø‡¶ï", "‡¶Ö‡¶ó‡ßç‡¶∞‡¶π‡¶æ‡¶Ø‡¶º‡¶£", "‡¶™‡ßå‡¶∑", "‡¶Æ‡¶æ‡¶ò", "‡¶´‡¶æ‡¶≤‡ßç‡¶ó‡ßÅ‡¶®", "‡¶ö‡ßà‡¶§‡ßç‡¶∞"];
    const monthDays = [31, 31, 31, 31, 31, 31, 30, 30, 30, 30, 30, 30];

    if ((year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0)) {
        monthDays[10] = 31; 
    }

    const refDate = new Date(year, 3, 14);
    let diff = Math.floor((date - refDate) / (1000 * 60 * 60 * 24));

    if (diff < 0) {
        const prevYear = year - 1;
        const isPrevLeap = (prevYear % 4 === 0 && prevYear % 100 !== 0) || (prevYear % 400 === 0);
        diff += (isPrevLeap ? 366 : 365);
    }

    let m = 0;
    while (diff >= monthDays[m]) {
        diff -= monthDays[m];
        m++;
    }
    
    let bnDay = diff + 1;
    let bnMonthName = bnMonths[m];

    const toBn = (n) => n.toString().replace(/\d/g, d => "‡ß¶‡ßß‡ß®‡ß©‡ß™‡ß´‡ß¨‡ß≠‡ßÆ‡ßØ"[d]);
    return `${toBn(bnDay)} ${bnMonthName}, ${toBn(bnYear)}`;
}

// ‡¶™‡ßá‡¶ú ‡¶≤‡ßã‡¶° ‡¶π‡¶≤‡ßá ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶Ö‡¶ü‡ßã ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶¶‡ßá‡¶ì‡ßü‡¶æ
window.addEventListener('load', () => {
    const now = new Date();
    const d = String(now.getDate()).padStart(2, '0');
    const m = String(now.getMonth() + 1).padStart(2, '0');
    const y = now.getFullYear();
    const inputEl = document.getElementById('calInput');
    if(inputEl) {
        inputEl.value = `${d}-${m}-${y}`;
        formatAndStyleDate(inputEl);
    }
});


// ‡¶â‡¶á‡¶®‡ßç‡¶°‡ßã ‡¶∞‡¶ø‡¶∏‡¶æ‡¶á‡¶ú ‡¶ï‡¶∞‡¶≤‡ßá ‡¶∏‡ßç‡¶ï‡ßá‡¶≤ ‡¶†‡¶ø‡¶ï ‡¶ï‡¶∞‡¶æ
window.addEventListener('resize', applyPageSettings);
window.addEventListener('load', () => { renderDocList(); applyPageSettings(); });


    // --- Export ---
    function exportData(id, mode, fsId) {
        let el = document.getElementById(id);
        el.style.fontSize = document.getElementById(fsId).value + "px";
        if(mode === 'pdf') html2pdf().from(el).save('Report.pdf');
        else html2canvas(el).then(c => { let a = document.createElement('a'); a.href=c.toDataURL(); a.download='Report.png'; a.click(); });
    }

    window.onload = () => { renderEC(); renderCHis(); renderAge(); renderNotes(); goHome() ; };
    //---------App signal cmd--------
    
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    const swCode = `
      self.addEventListener('fetch', (event) => {
        event.respondWith(fetch(event.request));
      });
    `;
    const blob = new Blob([swCode], {type: 'text/javascript'});
    const url = URL.createObjectURL(blob);
    navigator.serviceWorker.register(url);
  });
}

// Service Worker Registration for Offline Support and PWA
if ('serviceWorker' in navigator) {
    window.addEventListener('load', function() {
        const scriptContent = `
            const CACHE_NAME = 'my-dash-v1';
            self.addEventListener('install', event => {
                event.waitUntil(caches.open(CACHE_NAME));
            });
            self.addEventListener('fetch', event => {
                event.respondWith(fetch(event.request).catch(() => caches.match(event.request)));
            });
        `;
        const blob = new Blob([scriptContent], { type: 'text/javascript' });
        const swUrl = URL.createObjectURL(blob);
        navigator.serviceWorker.register(swUrl).then(() => {
            console.log('Service Worker Registered');
        }).catch(err => console.log('SW Registration Failed', err));
    });
}




</script>
</body>
</html>

